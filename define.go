package emozi

import (
	base14 "github.com/fumiama/go-base16384"
)

type å£°æ¯æšä¸¾ uint8

// String å›½é™…éŸ³æ ‡
func (sm å£°æ¯æšä¸¾) String() string {
	a := sm * 3
	b := a + [...]å£°æ¯æšä¸¾{1, 2, 1, 1, 1, 2, 1, 1, 1, 2, 1, 2, 3, 1, 2, 3, 1, 1, 2, 3, 1, 1, 1, 1, 1}[sm]
	s := []rune("p  pÊ° m  f  t  tÊ° n  l  k  kÊ° x  tÉ• tÉ•Ê°É•  ÊˆÊ‚ ÊˆÊ‚Ê°Ê‚  É»  ts tsÊ°s  j  w  É¥  0  ")[a:b]
	return string(s)
}

const (
	å£°æ¯b å£°æ¯æšä¸¾ = iota
	å£°æ¯p
	å£°æ¯m
	å£°æ¯f
	å£°æ¯d
	å£°æ¯t
	å£°æ¯n
	å£°æ¯l
	å£°æ¯g
	å£°æ¯k
	å£°æ¯h
	å£°æ¯j
	å£°æ¯q
	å£°æ¯x
	å£°æ¯zh
	å£°æ¯ch
	å£°æ¯sh
	å£°æ¯r
	å£°æ¯z
	å£°æ¯c
	å£°æ¯s
	å£°æ¯yi
	å£°æ¯w
	å£°æ¯yu
	å£°æ¯0
)

// å£°æ¯ å¯ä»¥æœ‰å¤šä¸ªé¢œæ–‡å­—ä¸ä¹‹å¯¹åº” ä½†æœ‰æ—¶ç³»ç»Ÿå¯èƒ½æ— æ³•æ˜¾ç¤º
var å£°æ¯ = [...][]string{
	// b: é¼»ç¬”å…«
	{"ğŸ‘ƒ", "ğŸ–Šï¸", "ğŸ±"},
	// p: è·‘è·‘è·‘ç¥¨ç¥¨ç‰Œç‰Œ
	{"ğŸƒ", "ğŸƒâ€â™€ï¸", "ğŸƒâ€â™‚ï¸", "ğŸ«", "ğŸŸï¸", "ğŸƒ", "ğŸ´"},
	// m: é©¬é©¬çŒ«çŒ«çŒ«çŒ«é”šé¢é¢é—¨éº¦ç±³æœ¨èœœå¸½å¸½å¸½éº¦
	{"ğŸ´", "ğŸ", "ğŸ±", "ğŸˆ", "ğŸˆâ€â¬›", "ğŸ˜º", "âš“ï¸", "ğŸœ", "ğŸ", "ğŸšª", "ğŸŒ¾", "ğŸš", "ğŸªµ", "ğŸ¯", "ğŸ©", "ğŸ‘’", "ğŸ§¢", "ğŸ™ï¸"},
	// f: æ–§è‚º
	{"ğŸª“", "ğŸ«"},
	// d: åˆ€è±†è›‹ç¯ç¯æ´
	{"ğŸ”ª", "ğŸ«˜", "ğŸ¥š", "ğŸ’¡", "ğŸª”", "ğŸ•³ï¸"},
	// t: è…¿ç³–å…”å…”æ¡¶æ¡ƒ
	{"ğŸ¦µ", "ğŸ¬", "ğŸ°", "ğŸ‡", "ğŸª£", "ğŸ‘"},
	// n: å¥¶é¸Ÿç‰›
	{"ğŸ¥›", "ğŸ¦", "ğŸ®"},
	// l: é¹¿é¹¿å†·é¾™é¾™è²
	{"ğŸ¦Œ", "ğŸ«", "ğŸ¥¶", "ğŸ²", "ğŸ‰", "ğŸª·"},
	// g: ç“œé¼“é¾Ÿç‹—å‹¾è·ªè·ªè·ª
	{"ğŸ‰", "ğŸ¥", "ğŸ¢", "ğŸ¶", "ğŸª", "ğŸ§", "ğŸ§â€â™€ï¸", "ğŸ§â€â™‚ï¸"},
	// k: å“­è£¤
	{"ğŸ˜­", "ğŸ‘–"},
	// h: èŠ±èŠ±èŠ±èŠ±èŠ±èŠ±èŠ±èŠ±ç«è™è™çŒ´çŒ´
	{"ğŸŒ¹", "ğŸŒ¼", "ğŸ’", "ğŸŒ·", "ğŸŒ¸", "ğŸŒº", "ğŸ¥€", "ğŸª»", "ğŸ”¥", "ğŸ¯", "ğŸ…", "ğŸ’", "ğŸµ"},
	// j: åŠ å‡é…’é…’é¸¡é¸¡å‰‘å§œé•œè„š
	{"â•", "â–", "ğŸ·", "ğŸº", "ğŸ”", "ğŸ“", "ğŸ—¡ï¸", "ğŸ«š", "ğŸª", "ğŸ¦¶"},
	// q: èŒ„é’±é’±é’±é’±é’±æ£‹
	{"ğŸ†", "ğŸ’°", "ğŸ’´", "ğŸ’µ", "ğŸ’¶", "ğŸ’¸", "â™Ÿï¸"},
	// x: ä¸‹ä¸‹è™¾è™¾è™¾é›ªæ˜Ÿæ˜Ÿæ˜Ÿæ˜Ÿç†Šè±¡èŸ¹
	{"ğŸ‘‡", "â¬‡ï¸", "ğŸ¦", "ğŸ¤", "ğŸ¦", "â„ï¸", "ğŸŒŸ", "âœ¨", "â­ï¸", "ğŸ’«", "ğŸ»", "ğŸ˜", "ğŸ¦€ï¸"},
	// zh: çŒªçŒªé’ˆé’ˆ
	{"ğŸ½", "ğŸ·", "ğŸª¡", "ğŸ’‰"},
	// ch: èŒ¶èŒ¶è½¦è½¦è½¦è½¦åºŠåºŠé™¤è™«
	{"ğŸµ", "â˜•ï¸", "ğŸš—", "ğŸš˜", "ğŸš™", "ğŸ›»", "ğŸ›ï¸", "ğŸ›Œ", "â—", "ğŸ›"},
	// sh: æ°´æ°´ä¹¦ä¹¦ä¹¦ä¹¦ä¹¦ä¹¦ä¸Šä¸Šä¸ŠçŸ³å±±å±±å±±æ ‘æ ‘æ ‘è›‡é¼ é¼ é¼ çŠ
	{"ğŸ’¦", "ğŸ’§", "ğŸ“–", "ğŸ“•", "ğŸ“—", "ğŸ“˜", "ğŸ“™", "ğŸ“š", "â¬†ï¸", "â˜ï¸", "ğŸ‘†", "ğŸª¨", "â›°ï¸", "ğŸ”ï¸", "ğŸ—»", "ğŸŒ²", "ğŸŒ³", "ğŸŒ´", "ğŸ", "ğŸ­", "ğŸ€", "ğŸ", "ğŸª¸"},
	// r: è‚‰æ—¥æ—¥æ—¥
	{"ğŸ¥©", "ğŸŒ", "â˜€ï¸", "ğŸŒ…"},
	// z: å·¦å·¦å·¦			c: é”™é”™é”™é”™				s: é”ä¼ä¼ä¼ä¼è’œ
	{"ğŸ‘ˆ", "â¬…ï¸", "â¬…"}, {"âŒ", "ğŸ™…", "ğŸ™…â€â™€ï¸", "ğŸ™…â€â™‚ï¸"}, {"ğŸ”’", "ğŸŒ‚", "â˜”ï¸", "â›±ï¸", "â˜‚ï¸", "ğŸ§„"},
	// yi: ç¾Šç¾Šç‰™è¯ç›					w: è¢œé›¾ç½‘ç¢—				yu: é›¨é±¼é±¼			0: ä¸¤ç§æ¤…å­
	{"ğŸ‘", "ğŸ", "ğŸ¦·", "ğŸ’Š", "ğŸ§‚"}, {"ğŸ§¦", "ğŸŒ«ï¸", "ğŸ•¸ï¸", "ğŸ¥£"}, {"ğŸŸ", "ğŸŒ§ï¸", "ğŸ "}, {"ğŸª‘", "ğŸ’º"},
}

func ä½é˜¶é€†åˆå§‹åŒ–(è¡¨ [][]string, å€æ•° int) map[rune][]string {
	m := make(map[rune][]string, len(è¡¨)*å€æ•°)
	for _, lst := range è¡¨ {
		for _, s := range lst {
			k := []rune(s)[0]
			m[k] = append(m[k], s)
		}
	}
	return m
}

// ä½é˜¶é€†å£°æ¯ runeå£°æ¯åˆ°å£°æ¯çš„é€†æ˜ å°„
var ä½é˜¶é€†å£°æ¯ = ä½é˜¶é€†åˆå§‹åŒ–(å£°æ¯[:], 32)

func é€†åˆå§‹åŒ–[T ~uint8](è¡¨ [][]string, å€æ•° int) map[string]T {
	m := make(map[string]T, len(è¡¨)*å€æ•°)
	for i, lst := range è¡¨ {
		for _, s := range lst {
			m[s] = T(i)
		}
	}
	return m
}

// é€†å£°æ¯ å£°æ¯åˆ°æšä¸¾çš„é€†æ˜ å°„
var é€†å£°æ¯ = é€†åˆå§‹åŒ–[å£°æ¯æšä¸¾](å£°æ¯[:], 32)

type éŸµæ¯æšä¸¾ uint8

// String å›½é™…éŸ³æ ‡
func (ym éŸµæ¯æšä¸¾) String() string {
	return [...]string{
		"Ã¤", "É”", "É¤", "i", "É¿", "u", "y", "ÉÉšÌ¯", "aÉªÌ¯", "uÌ¯aÉªÌ¯", "eÉªÌ¯", "uÌ¯eÉªÌ¯", "É‘ÊŠÌ¯", "iÌ¯É‘ÊŠÌ¯",
		"oÊŠÌ¯", "iÌ¯oÊŠÌ¯", "iÌ¯Ã¤", "uÌ¯Ã¤", "uÌ¯o", "iÌ¯É›", "yÌ¯É›", "an", "iÌ¯É›n", "uÌ¯an", "yÌ¯É›n", "É™n", "uÌ¯É™n",
		"in", "yn", "É‘Å‹", "iÌ¯É‘Å‹", "uÌ¯É‘Å‹", "É¤Å‹", "iÅ‹", "uÌ¯É™Å‹", "ÊŠÅ‹", "iÌ¯ÊŠÅ‹",
	}[ym]
}

const (
	éŸµæ¯a éŸµæ¯æšä¸¾ = iota
	éŸµæ¯o
	éŸµæ¯e
	éŸµæ¯yi
	éŸµæ¯ri
	éŸµæ¯wu
	éŸµæ¯yu
	éŸµæ¯er
	éŸµæ¯ai
	éŸµæ¯uai
	éŸµæ¯ei
	éŸµæ¯ui
	éŸµæ¯ao
	éŸµæ¯iao
	éŸµæ¯ou
	éŸµæ¯iu
	éŸµæ¯ia
	éŸµæ¯ua
	éŸµæ¯uo
	éŸµæ¯ie
	éŸµæ¯yue
	éŸµæ¯an
	éŸµæ¯ian
	éŸµæ¯uan
	éŸµæ¯yuan
	éŸµæ¯en
	éŸµæ¯un
	éŸµæ¯in
	éŸµæ¯yun
	éŸµæ¯ang
	éŸµæ¯iang
	éŸµæ¯uang
	éŸµæ¯eng
	éŸµæ¯ing
	éŸµæ¯ueng
	éŸµæ¯ong
	éŸµæ¯iong
)

// éŸµæ¯ ä»…ç”±ä¸€ç§æ„è±¡è¡¨ç¤º
var éŸµæ¯ = [...][]string{
	{"ğŸ˜§", "ğŸ¤”ï¸"}, {"ğŸ˜²"}, {"ğŸ˜‹"}, {"ğŸ‘”", "ğŸ‘—", "ğŸ‘•", "ğŸ‘š"}, {"ğŸŒ", "â˜€ï¸", "ğŸŒ…"},
	{string([]rune("ğŸŒ«ï¸")[0]), "ğŸŒ«ï¸"}, {"ğŸŸ", "ğŸŒ§ï¸"}, {"ğŸ‘‚"},
	{string([]rune("â¤ï¸")[0]), "â¤ï¸", "ğŸ’—", "ğŸ’“", "ğŸ«¶", "ğŸ’•", "ğŸ’–", "ğŸ’˜", "ğŸ’™", "ğŸ’š", "ğŸ’›", "ğŸ’œ", "ğŸ’", "ğŸ’", "ğŸ§¡"}, {"ğŸ¥¢"}, {"ğŸ˜©"}, {"ğŸ¢"},
	{"ğŸ±", "ğŸˆ", "ğŸˆâ€â¬›", "ğŸ˜º"}, {"ğŸ’Š"}, {"ğŸ¤®", "ğŸ¤¢"}, {"ğŸ‘‰", "â¡ï¸"},
	{"ğŸ¦·"}, {"ğŸ§¦"}, {"ğŸŒ€"}, {string([]rune("âœŒï¸")[0]), "âœŒï¸"}, {"ğŸŒ™", "ğŸŒ•", "ğŸŒ›", "ğŸŒ"}, {"ğŸ”"}, {"ğŸš¬"}, {"ğŸ¥£", "ğŸš"},
	{string([]rune("â­•ï¸")[0]), "â­•ï¸"}, {"ğŸ˜"}, {"ğŸ˜˜", "ğŸ’‹"}, {"ğŸµ"}, {string([]rune("â˜ï¸")[0]), "â˜ï¸"}, {"ğŸ‘"}, {"ğŸ‘"},
	{string([]rune("ğŸ•¸ï¸")[0]), "ğŸ•¸ï¸"}, {"ğŸ’¡", "ğŸª”"}, {"ğŸ¦…"}, {"ğŸ"}, {"ğŸŒˆ"}, {"ğŸ˜³"}, // jiong å›§
}

// ä½é˜¶é€†éŸµæ¯ runeéŸµæ¯åˆ°éŸµæ¯çš„é€†æ˜ å°„
var ä½é˜¶é€†éŸµæ¯ = ä½é˜¶é€†åˆå§‹åŒ–(éŸµæ¯[:], 8)

// é€†éŸµæ¯ éŸµæ¯åˆ°æšä¸¾çš„é€†æ˜ å°„
var é€†éŸµæ¯ = é€†åˆå§‹åŒ–[éŸµæ¯æšä¸¾](éŸµæ¯[:], 8)

type å£°è°ƒæšä¸¾ uint8

// String è¿”å›ä¼ ç»Ÿè°ƒå
func (t å£°è°ƒæšä¸¾) String() string {
	return [...]string{
		"é˜´å¹³", "é˜³å¹³", "ä¸Šå£°", "å»å£°", "è½»å£°",
	}[t]
}

const (
	é˜´å¹³ å£°è°ƒæšä¸¾ = iota
	é˜³å¹³
	ä¸Šå£°
	å»å£°
	è½»å£°
)

var å£°è°ƒ = [...][]string{{"ğŸ‰"}, {"ğŸ§—", "ğŸ§—â€â™€ï¸", "ğŸ§—â€â™‚ï¸", "ğŸ¦"}, {"ğŸ´", "ğŸ"}, {"ğŸ˜¨"}, {"ğŸ˜¯"}}

// ä½é˜¶é€†å£°è°ƒ runeå£°è°ƒåˆ°å£°è°ƒçš„é€†æ˜ å°„
var ä½é˜¶é€†å£°è°ƒ = ä½é˜¶é€†åˆå§‹åŒ–(å£°è°ƒ[:], 4)

// é€†å£°è°ƒ å£°è°ƒåˆ°æšä¸¾çš„é€†æ˜ å°„
var é€†å£°è°ƒ = é€†åˆå§‹åŒ–[å£°è°ƒæšä¸¾](å£°è°ƒ[:], 4)

// æ ¡éªŒè¡¨ ç”¨ æ ¡éªŒè¡¨é•¿åº¦ ä¸ªunicodeæ§åˆ¶å­—ç¬¦åšæ ¡éªŒå’ŒéªŒè¯æ­¤åºåˆ—æ˜¯ç”±æœ¬ç¨‹åºç”Ÿæˆè€Œéæ‰‹å†™çš„
//
// å…·ä½“åšæ³•æ˜¯å…ˆå¯¹åé¢çš„æ–‡æœ¬åšcrc32ç„¶åå– æ ¡éªŒè¡¨é•¿åº¦^æ ¡éªŒå­—èŠ‚æ•° çš„æ¨¡
var æ ¡éªŒè¡¨ = func() []rune {
	x, err := base14.UTF16BE2UTF8(base14.StringToBytes("\x20\x0b\x20\x0c\x20\x0d\x20\x0e\x20\x0f\x20\x2a\x20\x2b\x20\x2c\x20\x2d\x20\x2e\x20\x60\x20\x61\x20\x62\x20\x63\x20\x64\x20\x65\x20\x66\x20\x68\x20\x69\x20\x6a\x20\x6b\x20\x6c\x20\x6d\x20\x6e\x20\x6f"))
	if err != nil {
		panic(err)
	}
	return []rune(base14.BytesToString(x))
}()

// æ ¡éªŒè¡¨é•¿åº¦ 25
var æ ¡éªŒè¡¨é•¿åº¦ = len(æ ¡éªŒè¡¨)

// æ ¡éªŒå­—èŠ‚æ•° é»˜è®¤ä¸º 3, ä¸å¾—å¤§äº 3
const æ ¡éªŒå­—èŠ‚æ•° = 3

// æ ¡éªŒæ¨¡ æ ¡éªŒè¡¨é•¿åº¦^æ ¡éªŒå­—èŠ‚æ•°
var æ ¡éªŒæ¨¡ = uint32(0)

// æ ¡éªŒå€æ•° æ ¡éªŒè¡¨é•¿åº¦ä¹˜æ–¹è¡¨
var æ ¡éªŒå€æ•° = func() []uint32 {
	tab := make([]uint32, æ ¡éªŒå­—èŠ‚æ•°)
	tab[0] = 1
	for i := 1; i < æ ¡éªŒå­—èŠ‚æ•°; i++ {
		tab[i] = tab[i-1] * uint32(æ ¡éªŒè¡¨é•¿åº¦)
	}
	æ ¡éªŒæ¨¡ = tab[æ ¡éªŒå­—èŠ‚æ•°-1] * uint32(æ ¡éªŒè¡¨é•¿åº¦)
	return tab
}()

// é€†æ ¡éªŒè¡¨ è¿˜åŸæ ¡éªŒå’Œç”¨
var é€†æ ¡éªŒè¡¨ = func() map[rune]uint8 {
	m := make(map[rune]uint8, 64)
	for i, c := range æ ¡éªŒè¡¨ {
		m[c] = uint8(i)
	}
	return m
}()

// é€†éƒ¨é¦–åå¤‡ éƒ¨é¦–åå¤‡é€†æŸ¥è¡¨ ä¸€å¯¹å¤š
var é€†éƒ¨é¦–åå¤‡ = func() map[string][]rune {
	m := make(map[string][]rune, len(éƒ¨é¦–åå¤‡)*4)
	for r, e := range éƒ¨é¦–åå¤‡ {
		if æ— æ­¤å­—ç¬¦(m[e], r) {
			m[e] = append(m[e], r)
		}
	}
	return m
}()

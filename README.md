<div align="center">

<h1>EMOZI</h1>


[![See My Viedo](https://img.shields.io/badge/%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%81%E6%88%91%E5%8F%91%E5%B8%83%E7%9A%84%E8%A7%86%E9%A2%91-Bilibili-pink?style=for-the-badge)](https://www.bilibili.com/video/BV14K421y75F)

å‚è€ƒå¤åŸƒåŠåœ£ä¹¦ä½“è®¾è®¡çš„ä¸€ç§åŸºäºé¢œæ–‡å­—çš„æ±‰å­—æŠ½è±¡è½¬å†™æ³•<br>ğŸ‘ğŸš¬ğŸ§—ğŸ‘¤ğŸ•¸ï¸ğŸ˜ğŸ§—âœï¸ğŸ‘ˆğŸŒğŸ˜¨ğŸ ğŸŒ¹ğŸ§¦ğŸ˜¨ğŸ‘¥ğŸŒ¹ğŸ”ğŸ˜¨ğŸ’¦â¬…ï¸â˜€ï¸ğŸ˜¨ğŸ¡ğŸ’¦ğŸ’¡ğŸ‰ğŸŒ±ğŸµğŸ’¡ğŸ§—ğŸª“ğŸ†ğŸ‘”ğŸ˜¨ğŸ¶<br><br>

<img src="https://counter.seku.su/cmoe?name=emozi&theme=r34" /><br>

</div>

## å‘½ä»¤è¡Œå·¥å…·
ä½äº`cmd`æ–‡ä»¶å¤¹ã€‚
```bash
ç”¨æ³•: [-h|f|nr] [-db å­—.db] [-d ğŸŒ¹â€ªğŸ±â¢ğŸ´â€­ğŸ‘©] [-e å¥½] å½¢å£°å­—é€‰æ‹©1 å½¢å£°å­—é€‰æ‹©2 ...
  -a string
        æ·»åŠ ä¸€ä¸ªæ±‰å­—åˆ°é™„åŠ åº“
  -d string
        è§£ç é¢œæ–‡å­—ä¸ºæ±‰å­—åºåˆ—
  -db string
        ç¬¦åˆè§„èŒƒçš„æŸ¥è¯¢æ•°æ®åº“ä½ç½®, ä¸å­˜åœ¨åˆ™ä¼šè‡ªåŠ¨é‡Šæ”¾åˆ°è¯¥è·¯å¾„. (default "å­—.db")
  -deloverlay int
        åˆ é™¤ä¸€ä¸ªé™„åŠ åº“ä¸­çš„å­—
  -delradical
        åˆ é™¤-ræŒ‡å®šçš„éƒ¨é¦–çš„è®°å½•
  -e string
        ç¼–ç æ±‰å­—åºåˆ—ä¸ºé¢œæ–‡å­—
  -f    å¼ºåˆ¶è§£ç å¹¶éç”±æœ¬ç¨‹åºç”Ÿæˆçš„é¢œæ–‡å­—åºåˆ—
  -h    æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
  -i    æŒ‡å®šæ±‰å­—-aå’Œå¸¦å£°è°ƒçš„æ‹¼éŸ³-pä»¥è®¡ç®—å…¶å…¨å±€å”¯ä¸€ID
  -nr
        ä¸éšæœºé€‰å–æ‰€æœ‰è¯»éŸ³ç›¸è¿‘çš„é¢œæ–‡å­—
  -p string
        å¸¦å£°è°ƒçš„æ‹¼éŸ³
  -r string
        æŒ‡å®šæ¬²ç¼–è¾‘çš„éƒ¨é¦–
  -re string
        æŒ‡å®šéƒ¨é¦–å¯¹åº”çš„é¢œæ–‡å­—
  -stabilize int
        å›ºå®šé™„åŠ åº“ä¸­çš„å­—åˆ°ä¸»åº“
```
ä¸‹é¢æ˜¯ä¸€äº›ç”¨ä¾‹ã€‚
### è®¡ç®—ä¸€ä¸ªå­—çš„å›½é™…éŸ³æ ‡ã€éƒ¨é¦–ã€å…¨å±€ID
> è¯¥è®¡ç®—ä¸æŸ¥æ•°æ®åº“, å®Œå…¨ä¸æ•°æ®åº“æ— å…³.
```bash
go run cmd/main.go -i -a å“¦ -p o
æ–‡å­—: å“¦ æ‹¼éŸ³IPA: 0 É” è½»å£° ID: 93346820784388
ç¨‹åºå¤„ç†ç»“æŸ
```
### æŸ¥è¯¢åº“ä¸­è®°å½•çš„å­—çš„ä¿¡æ¯
```bash
go run cmd/main.go -a è¡Œ
æŸ¥è¯¢åˆ°æ±‰å­— è¡Œ çš„è®°å½•:
0)      #149859999752449 è¡Œ [É•, iÅ‹, é˜³å¹³] ä»è¡Œ xing xÃ­nÉ¡
1)      #149859999554817 è¡Œ [x, É‘Å‹, é˜³å¹³] ä»è¡Œ hang hÃ¡ng
ç¨‹åºå¤„ç†ç»“æŸ
```
### ç¼–ç 
> æ³¨æ„: å¯ä»¥æŒ‡å®š`-nr`å‚æ•°ä»è€Œä½¿ç¼–è§£ç ç»“æœå”¯ä¸€ã€‚
```bash
go run cmd/main.go -e å¥½
ç¼–ç ç»“æœ: ğŸŒ¹â€ªğŸ±â¢ğŸ´â€­ğŸ‘©
ç¨‹åºå¤„ç†ç»“æŸ
```
### è§£ç 
```bash
go run cmd/main.go -d ğŸŒ¹â€ªğŸ±â¢ğŸ´â€­ğŸ‘©
è§£ç ç»“æœ: å¥½
ç¨‹åºå¤„ç†ç»“æŸ
```
### æ·»åŠ ä¸€ä¸ªå­—åˆ°é™„åŠ åº“
```bash
go run cmd/main.go -e çš„
ç¼–ç ç»“æœ: çš„â€¬ğŸˆ³â­ğŸˆ³â¤ğŸˆ³
ç¨‹åºå¤„ç†ç»“æŸ

go run cmd/main.go -a çš„ -p de -r æ—¥ -re ğŸŒ
å·²æ·»åŠ æ±‰å­—: çš„ è¯»éŸ³: t, É¤, è½»å£° éƒ¨é¦–: æ—¥ ID: 130309308023300
å·²æ·»åŠ éƒ¨é¦–: æ—¥ é¢œæ–‡å­—: ğŸŒ
æŸ¥è¯¢åˆ°æ±‰å­— çš„ çš„è®°å½•:
0)      #130309308023300 çš„ [t, É¤, è½»å£°] ä»æ—¥ de de
ç¨‹åºå¤„ç†ç»“æŸ

go run cmd/main.go -e çš„ 
ç¼–ç ç»“æœ: ğŸ”ªâ€¬ğŸ˜‹â€­ğŸ˜¯â€ğŸŒ
ç¨‹åºå¤„ç†ç»“æŸ
```
### æŒ‡å®šå¤šéŸ³å­—
```bash
go run cmd/main.go -e ä½ å¥½ï¼Œä¸–ç•Œï¼çœ‹çœ‹å¤šéŸ³å­—ï¼šè¡Œã€‚
ç¼–ç ç»“æœ: ğŸ¥›â©ğŸ‘”â¨ğŸ´â€ğŸ‘¤ğŸŒ¸ğŸ±ğŸ´ğŸ‘©ï¼ŒğŸ“™â˜€ï¸ğŸ˜¨ğŸŒğŸ¦¶ğŸ‘´ğŸ˜¨ğŸ‘¨â€ğŸŒ¾ï¼ğŸ‘–ğŸ”ğŸ‰ğŸ‘ï¸ğŸ˜­ğŸ”ğŸ‰ğŸ‘ï¸ğŸ«˜ğŸŒ€ğŸ‰ğŸª©ğŸ’ŠğŸµğŸ‰ğŸµâ¬…ğŸŒ…ğŸ˜¨ğŸš¼ï¼š[âœ¨ğŸ¦…ğŸ§—â€â™‚ï¸â›•|ğŸµğŸ‘ğŸ§—â€â™‚ï¸â›•]ã€‚
å¯é€‰å½¢å£°: [2]
åœ¨å‚æ•°ä¸­æŒ‡å®šå½¢å£°å­—ç¼–å·(ä»0å¼€å§‹)ä»¥ç”Ÿæˆä¸å¸¦ä¸­æ‹¬å·çš„ç¼–ç ç»“æœ
ç¨‹åºå¤„ç†ç»“æŸ

go run cmd/main.go -e ä½ å¥½ï¼Œä¸–ç•Œï¼çœ‹çœ‹å¤šéŸ³å­—ï¼šè¡Œã€‚ 1
ç¼–ç ç»“æœ: ğŸ¥›â­ğŸ‘”â¨ğŸ´âªğŸ‘¤ğŸŒ¼ğŸ˜ºğŸ´ğŸ‘©ï¼ŒğŸ”ï¸ğŸŒ…ğŸ˜¨ğŸŒâ–ğŸ‘´ğŸ˜¨ğŸ‘¨â€ğŸŒ¾ï¼ğŸ‘–ğŸ”ğŸ‰ğŸ‘ï¸ğŸ‘–ğŸ”ğŸ‰ğŸ‘ï¸ğŸ”ªğŸŒ€ğŸ‰ğŸª©ğŸ¦·ğŸµğŸ‰ğŸµâ¬…â˜€ï¸ğŸ˜¨ğŸš¼ï¼šğŸ”¥ğŸ‘ğŸ§—â›•ã€‚
ç¨‹åºå¤„ç†ç»“æŸ

go run cmd/main.go -d "ğŸ¥›â­ğŸ‘”â¨ğŸ´âªğŸ‘¤ğŸŒ¼ğŸ˜ºğŸ´ğŸ‘©ï¼ŒğŸ”ï¸ğŸŒ…ğŸ˜¨ğŸŒâ–ğŸ‘´ğŸ˜¨ğŸ‘¨â€ğŸŒ¾ï¼ğŸ‘–ğŸ”ğŸ‰ğŸ‘ï¸ğŸ‘–ğŸ”ğŸ‰ğŸ‘ï¸ğŸ”ªğŸŒ€ğŸ‰ğŸª©ğŸ¦·ğŸµğŸ‰ğŸµâ¬…â˜€ï¸ğŸ˜¨ğŸš¼ï¼šğŸ”¥ğŸ‘ğŸ§—â›•ã€‚"
è§£ç ç»“æœ: [ä½ |å„—]å¥½ï¼Œä¸–[ç•Œ|ç•]ï¼çœ‹çœ‹å¤šéŸ³å­—ï¼šè¡Œã€‚
ç¨‹åºå¤„ç†ç»“æŸ
```

## ä½œä¸ºåº“å¼•ç”¨
### ç‰¹åˆ«æ³¨æ„
æœ¬`package`ä½¿ç”¨äº†è‡ªä¿®æ”¹çš„`modernc.org/sqlite`æ•°æ®åº“ï¼Œå¦‚æ¬²å¼•å…¥æœ¬åŒ…ï¼Œéœ€è¦åœ¨`go.mod`æ·»åŠ å¦‚ä¸‹æ›¿æ¢é¡¹ã€‚
```bash
replace modernc.org/sqlite => github.com/fumiama/sqlite3 v1.20.0-with-win386

replace github.com/remyoudompheng/bigfft => github.com/fumiama/bigfft v0.0.0-20211011143303-6e0bfa3c836b
```
### æ‹¼éŸ³è¯†åˆ«æ‹†åˆ†
å°†å¸¦å£°è°ƒçš„æ‹¼éŸ³æ‹†åˆ†ä¸ºä»¥å›½é™…éŸ³æ ‡è¡¨ç¤ºçš„å£°æ¯éŸµæ¯ã€‚
```go
s, y, t, err := emozi.SplitPinyin("jiÇ’ng")
if err != nil {
    panic(err)
}
fmt.Println(s, y, tone) // tÉ• iÌ¯ÊŠÅ‹ ä¸Šå£°
```
### æŸ¥æ±‰å­—
æŸ¥ä¸€ä¸ªæ±‰å­—åœ¨æ•°æ®åº“ä¸­çš„è®°å½•ã€‚
```go
coder, err := emozi.NewCoder(time.Minute)
if err != nil {
    panic(err)
}
defer coder.Close()
lst, err := coder.Lookup('è¡Œ')
if err != nil {
    panic(err)
}
fmt.Println("æŸ¥è¯¢åˆ°æ±‰å­— è¡Œ çš„è®°å½•:")
    for i, x := range lst {
    fmt.Printf("%d)\t%s\n", i, x)
}
/*
æŸ¥è¯¢åˆ°æ±‰å­— è¡Œ çš„è®°å½•:
0)      #149859999752449 è¡Œ [É•, iÅ‹, é˜³å¹³] ä»è¡Œ xing xÃ­nÉ¡
1)      #149859999554817 è¡Œ [x, É‘Å‹, é˜³å¹³] ä»è¡Œ hang hÃ¡ng
*/
```
